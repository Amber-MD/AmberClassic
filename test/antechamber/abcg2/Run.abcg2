#!/bin/bash

# the mol2 file was generated by antechamber using the HF/6-31G* optimized geometry

../../../bin/antechamber -i me3nh.mol2 -fi mol2 -o me3nh_bcc.mol2 -fo mol2 -at gaff -c bcc >& antechamber.out || { echo "  $0:  Program error"; exit 1; }
../../../bin/antechamber -i me3nh.mol2 -fi mol2 -o me3nh_abcg2.mol2 -fo mol2 -at gaff2 -c abcg2 >& antechamber.out || { echo "  $0:  Program error"; exit 1; }
../../../bin/parmchk2 -i me3nh_bcc.mol2 -f mol2 -o me3nh_bcc.frcmod -s 1 || { echo "  $0:  Program error"; exit 1; }
../../../bin/parmchk2 -i me3nh_abcg2.mol2 -f mol2 -o me3nh_abcg2.frcmod -s 2 || { echo "  $0:  Program error"; exit 1; }
../../../bin/tleap -s -f leap_bcc.in > leap_bcc.out
../../../bin/tleap -s -f leap_abcg2.in > leap_abcg2.out

../../dacdif -a 5.5e-3 me3nh_bcc.mol2.save me3nh_bcc.mol2
../../dacdif -a 5.5e-3 me3nh_bcc.frcmod.save me3nh_bcc.frcmod
../../dacdif -a 5.5e-3 me3nh_abcg2.mol2.save me3nh_abcg2.mol2
../../dacdif -a 5.5e-3 me3nh_abcg2.frcmod.save me3nh_abcg2.frcmod

/bin/rm -f ANTE* ATOMTYPE.INF NEWPDB.PDB PREP.INF antechamber.out 

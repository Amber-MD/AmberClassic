#!/usr/bin/perl

#-----------------------------------------------------------------------
#  find the alternates and create addles.in commands
#     stdin can be piped in from 'find_alts <pdb-file>'
#-----------------------------------------------------------------------

$id = $ARGV[0];

# print header:
print <<EOF;
file rprm name=($id.parm7) read
file rcbd name=($id.rst7) read
file wprm name=($id.LES.parm7) wovr
file wcrd name=($id.LES.rst7) wovr
action
omas
EOF

<STDIN>;  # skip the blank first line

while (<STDIN>){

   @f = split(' ', $_);
   $resno = $f[0];
   $alts = @f - 1;

   next if $alts == 1;  # can't handle partially occupied single conformers
   print "spac numc=$alts pick #mon $resno $resno done\n";

}

#print trailer:
print "*EOD\n";

